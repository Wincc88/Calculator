<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="stylesheet.css">
</head>
<body>
 
    <div class="Calculator">

            <div class="display">
                <p><span id="numToLeft"></span>    
                <span id="operatorInMiddle"></span>
                <span id="numToRight"></span>
                </p>
            </div>

            <div class="middleDiv">
                <p>= <span id="displayAnswer"></span></p>
            </div>
            
            <div class="wholeButtons">

                   <div id="btncontainer">

                         <div id="clearContainer">
                            <button id="ClearAll" name=C>C</button>
                            <button id="ErasetoLeft" name=Backspace>Backspace</button>
                         </div>
                         
                         <div id="numberContainer">
                            <button id="Seven" name=7>7</button>
                            <button id="Eight" name=8>8</button>
                            <button id="Nine" name=9>9</button>
                            <button id="Four" name=4>4</button>
                            <button id="Five" name=5>5</button>
                            <button id="Six" name=6>6</button>
                            <button id="One" name=1>1</button>
                            <button id="Two" name=2>2</button>
                            <button id="Three" name=3>3</button>
                         </div>
                        
                         <div id="zeroContainer">
                            <button id="Dot" name=.>.</button>
                            <button id="Zero" name=0>0</button>
                         </div>
                   </div>
                   
                    <div class="opbuttons">
                        <button id="Multiply" name=x>X</button>
                        <button id="Divide" name=÷>÷</button>
                        <button id="Add" name=+>+</button>
                        <button id="Subtract" name=->-</button>
                        <button id="Equalsto" name==>=</button>
                    </div>
                        
                        
            </div>
            
    </div>

    <script>
        
        function addNumbers(a, b) {
            return a + b;
        }

        function subtractNumbers(a, b) {
            return a - b;
        }

        function multiplyNumbers(a, b) {
            return a * b;
        }
        
        
        function divideNumbers(a, b) {
            
                if (b === 0){
                    return "can't divide by zero";
                }
                return a/b;        
        }
        
         

        let newNum1; 
        let newNum2;
        let currentOperator = ["add", "subtract", "multiply", "divide"];
        let answer;

        
        function operate(currentOperator, newNum1, newNum2) {
            if (currentOperator === "add") {
                return (addNumbers (newNum1, newNum2));            
            } 
            else if (currentOperator === "subtract") {
                return (subtractNumbers (newNum1, newNum2));
            }
            else if (currentOperator === "multiply") {
                return (multiplyNumbers (newNum1, newNum2));
            }
            else if (currentOperator === "divide") {
                return (divideNumbers (newNum1, newNum2));
            }
        }

    

        const buttons = document.querySelectorAll("button");
               buttons.forEach((button) => {
                    button.addEventListener("click", () => {
                        
                          
                     buttonClicked = button.name;
                     
                               
                                if(operator === "") {
                                    //operator === "" used for reference in secondNum
                                    if (buttonClicked === ".") { 
                                        countDecimal++;
                                    }
                                    
                                    if (firstNum.includes(".") && buttonClicked ==="." && countDecimal > 1) {
                                        return;
                                    } 
                                }
                                else {
                                    if (buttonClicked === ".") { 
                                        secondCounter++;
                                    }
                                    if (secondNum.includes(".") && buttonClicked ==="." && secondCounter > 1) {
                                        return;
                                    }
                                }

                                if (firstNum !== "" && operator !== "" && secondNum !== "" && total !== "" && (!isNaN(total))){

                                        if (buttonClicked === "x" || buttonClicked === "÷" || buttonClicked === "-" 
                                        || buttonClicked === "+") {

                                            if(buttonClicked !== operator) {
                                                buttonClicked = "${.opbuttons}"; //records last operator to compare
                                                //console.log("which button");
                                                return;
                                            }

                                        }
                                }
                                
        
                      
                     
         enterNumbers();
         
         enterOperators();

         clearNums();

         eraseNumtoLeft();

         calcAll();

         updateNumbers();
            
         displayNumbers();


                 })
        })

        
        document.addEventListener("keydown", (event) => {
            keyName = event.key;

            if(keyName === "*") {
                buttonClicked = "x";
                keyName = buttonClicked;
            }

            if(keyName === "/") {
                buttonClicked = "÷";
                keyName = buttonClicked;
            }
            
            if(keyName === "Enter") {
                event.preventDefault();
                buttonClicked = "=";
                keyName = buttonClicked;
            }

            if(keyName === "Backspace") {
                buttonClicked = "Backspace";
                keyName = buttonClicked;
            }   

            if (keyName === "Delete") {
                event.preventDefault();
                buttonClicked = "C";
                keyName = buttonClicked;
            } 

            const button = document.querySelector(`button[name="${keyName}"]`);
            if (button) {
                button.click();
            };
            
        
            //false;
        })

        
        
        
        let firstNum = ""
        let secondNum = "";
        let operator = "";
        let total = "";
        let countDecimal = 0;
        let secondCounter = 0;
     
             
            
       
        function enterNumbers() {   
             
            if ((buttonClicked >= "0" && buttonClicked <= "9") || buttonClicked === ".") {

                    if(operator === "") {
                        firstNum = firstNum + buttonClicked;
                        console.log(firstNum);  
                        return firstNum; 
                        
                    } else  {
                        secondNum = secondNum + buttonClicked;
                        console.log(secondNum);
                        return secondNum;
                    }                  
            }  
        }

      
            
        function enterOperators() {
            
            if (buttonClicked === "x" || buttonClicked === "÷" || buttonClicked === "-" || buttonClicked === "+") {
                    if (firstNum === "") {
                        alert("enter first number");
                        return;  
                    }
            }

            
            if (buttonClicked === "x") {
                    currentOperator = "multiply";
                    //console.log(currentOperator);
                    operator = buttonClicked;
                    //console.log(operator);
                    return currentOperator; 
                }
            
            else if (buttonClicked === "÷") {
                        currentOperator = "divide";
                        //console.log(currentOperator);
                        operator = buttonClicked;
                        //console.log(operator);
                        return currentOperator;
            }

            else if (buttonClicked === "-") {
                        currentOperator = "subtract";
                        //console.log(currentOperator);
                        operator = buttonClicked;
                        //console.log(operator);
                        return currentOperator;
            }

            else if (buttonClicked === "+") {
                    currentOperator = "add";
                    operator = buttonClicked;
                    //console.log(operator);
                    return currentOperator;
            } 
            
        }
        
        function calcAll() {
            if (buttonClicked === "=") {
                
                if (firstNum === "") {
                    alert("enter first number");
                    return;
                    
                }
                else if (operator === "") {
                    alert("enter an operator");
                    return; 
                }
                else if (secondNum === "") {
                    alert("enter second number");
                    return;
                }

                             
                newNum1 = Number(firstNum);
                newNum2 = Number(secondNum);
                answer = (operate(currentOperator, newNum1, newNum2));
                //console.log(typeof answer);
                        if(isNaN(answer)) {
                            total = "can't divide by zero";
                        }
                        else {
                        //console.log(isNaN(answer));
                        answer = answer.toFixed(2);
                        total = answer;    
                        //console.log(isNaN(total));
                        }
                return total;
                
                
            }
        }
 
        function clearNums() {
            if (buttonClicked === "C") {
               firstNum = "";
               secondNum = "";
               operator = "";
               total = "";   // doubles the answers if use only total
            }       
        }  

        
        function eraseNumtoLeft() {
            if ((total === "" || isNaN(total)) && buttonClicked === "Backspace") {

                if (firstNum === "") {
                    alert("enter first number");
                    return;
                }
                
                if(operator === "") {

                        firstNum = firstNum.slice(0, -1);
                        console.log(firstNum);
                }

                else {
                    if (secondNum === "") {
                    alert("enter second number");
                    return;
                    }
                        
                        secondNum = secondNum.slice(0, -1);
                        console.log(secondNum);
                }
            }
     
        }  


        function updateNumbers() {

            if(total !== "" && (buttonClicked >= "0" && buttonClicked <= "9")) {

                if ((isNaN(total)) && (buttonClicked >= "0" && buttonClicked <= "9")) {
                    firstNum = "";
                    secondNum = ""; 
                    operator = "";
                    total = "";
                }
                else {
               
                    firstNum = total;   
                    secondNum = ""; 
                    operator = "";
                    total = ""; 
                }
            }
        }

       
      
         
                 
        function displayNumbers() {
           document.getElementById("numToLeft").textContent = firstNum;

           document.getElementById("operatorInMiddle").textContent = operator;
    
           document.getElementById("numToRight").textContent = secondNum; 

           document.getElementById("displayAnswer").textContent = total;           
        }          
        



    </script>
    
</body>
</htm